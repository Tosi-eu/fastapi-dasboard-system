enum UserType {
  admin
  user
}

generator py {
  provider = "prisma-client-py"
  recursive_type_depth = 5
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL_MOCK")
}

model User {
  id              Int       @id @default(autoincrement())
  username        String    
  email           String    
  password        String
  role            UserType
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@unique([username, email])
}

model Existents {
  id              Int       @id @default(autoincrement())
  username        String    
  email           String    
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@unique([username, email])
}

model Metric {
  id              Int        @id @default(autoincrement())
  date            DateTime  
  account_id      BigInt     
  campaign_id     BigInt     
  cost_micros     Float?     
  clicks          Float      
  conversions     Float      
  impressions     Float      
  interactions    Float
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt      

  @@unique([date, account_id, campaign_id])
}